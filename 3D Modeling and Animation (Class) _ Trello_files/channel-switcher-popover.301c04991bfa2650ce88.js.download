(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{3910:function(e,t,n){"use strict";n.d(t,"c",function(){return y}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return w});var r=n(5),a=n.n(r),o=n(229),i=n(90),c=n(0),l=n.n(c),s=n(3917),u=n.n(s),p=n(489),f=n(23);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var v=function(e){var t=e.children,n=e.description,r=e.rawDescription,o=e.title,i=e.icon;return l.a.createElement(l.a.Fragment,null,i&&l.a.createElement(f.Icon,{name:i,small:!0}),l.a.createElement("span",{className:a()(u.a.title,n&&u.a.withoutMargins)},o||t),(n||r)&&l.a.createElement("p",{className:u.a.description},n||r))},h=function(e){var t=e.appendSeparator,n=e.children;return l.a.createElement("li",{className:a()(u.a.item,t&&u.a.withSeparator)},n)},y=function(e){var t=e.appendSeparator,n=e.testId,r=e.href,o=e.className,c=b(e,["appendSeparator","testId","href","className"]),s=m(Object(p.a)(),2),f=s[0],y=s[1];return l.a.createElement(h,{appendSeparator:t},l.a.createElement(i.a,d({className:a()(u.a.link,o,f&&u.a.linkFocusRing),href:r,testId:n},y),l.a.createElement(v,c)))},g=Object(o.a)("PopoverMenuButton",function(e,t){var n=e.appendSeparator,r=e.onClick,o=e.className,i=e.disabled,c=e.testId,s=b(e,["appendSeparator","onClick","className","disabled","testId"]),f=m(Object(p.a)(),2),y=f[0],g=f[1];return l.a.createElement(h,{appendSeparator:n},l.a.createElement("button",d({className:a()(u.a.link,y&&u.a.linkFocusRing,o),disabled:i,onClick:r,"data-test-id":c,ref:t},g),l.a.createElement(v,s)))}),w=function(e){var t=e.className,n=e.children,r=e.testId;return l.a.createElement("nav",{className:t},l.a.createElement("ul",{"data-test-id":r},n))}},3917:function(e,t,n){var r=n(3918);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,a);r.locals&&(e.exports=r.locals)},3918:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,'._2jR0BZMM5cBReR{background-color:transparent;border:none;background:#fff;border-radius:0;box-shadow:none;color:#172b4d;display:block;height:100%;padding:6px 12px;text-align:left;text-decoration:none;width:100%;transition:none;margin:0;outline:0}._2jR0BZMM5cBReR:hover{background-color:transparent;border:none;box-shadow:none;color:#172b4d;background:rgba(9,30,66,.04)}._2jR0BZMM5cBReR:active{background-color:transparent;border:none;box-shadow:none;color:#172b4d;background:#e4f0f6}._2jR0BZMM5cBReR._1zydsQvvGuxRTQ:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._2jR0BZMM5cBReR._1zydsQvvGuxRTQ:focus{outline:5px auto -webkit-focus-ring-color}}._2jR0BZMM5cBReR[disabled]:active,._2jR0BZMM5cBReR[disabled]:focus,._2jR0BZMM5cBReR[disabled]:hover{background:transparent;color:#a5adba!important}._2jR0BZMM5cBReR[disabled]:active ._225g9OeRSRtf4N,._2jR0BZMM5cBReR[disabled]:focus ._225g9OeRSRtf4N,._2jR0BZMM5cBReR[disabled]:hover ._225g9OeRSRtf4N{color:#a5adba!important}._2jR0BZMM5cBReR[disabled]:active span[name=check],._2jR0BZMM5cBReR[disabled]:focus span[name=check],._2jR0BZMM5cBReR[disabled]:hover span[name=check]{color:#6b778c!important}._2jR0BZMM5cBReR[disabled]:active ._2DBw9GxD3tha0R,._2jR0BZMM5cBReR[disabled]:focus ._2DBw9GxD3tha0R,._2jR0BZMM5cBReR[disabled]:hover ._2DBw9GxD3tha0R{color:#a5adba!important}._1uK2vQ_aMRS2NU{font-size:14px;font-weight:400;line-height:20px}._1uK2vQ_aMRS2NU.l5dERcflZdjE0x{margin:0}._2DBw9GxD3tha0R{color:#5e6c84;font-size:12px;font-weight:400;line-height:16px;margin:4px 0 0;padding:0}._1pCh-d8Vg1eITK:after{background-color:rgba(9,30,66,.13);content:" ";display:block;height:1px;margin:8px auto;width:calc(100% - 20px)}',""]),t.locals={link:"_2jR0BZMM5cBReR",linkFocusRing:"_1zydsQvvGuxRTQ",icon:"_225g9OeRSRtf4N",description:"_2DBw9GxD3tha0R",title:"_1uK2vQ_aMRS2NU",withoutMargins:"l5dERcflZdjE0x",withSeparator:"_1pCh-d8Vg1eITK"}},4908:function(e,t,n){var r=n(4909);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,a);r.locals&&(e.exports=r.locals)},4909:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1H45OoU4WkJM8i{margin:0 0 8px}._1LawENaF54c6N4{border-radius:4px;border:1px solid #c1c7d0;width:100%}",""]),t.locals={detailsList:"_1H45OoU4WkJM8i",image:"_1LawENaF54c6N4"}},4910:function(e,t,n){var r=n(4911);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,a);r.locals&&(e.exports=r.locals)},4911:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._3x0n2X81GLtNsH{background:#e2e4e6;border-radius:3px;box-shadow:0 1px 0 0 #c4c9cc;box-sizing:border-box;cursor:pointer;display:block;font-weight:700;height:52px;max-width:300px;overflow:hidden;padding:0 0 7px 11px;position:relative;text-decoration:none;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;width:100%}._3x0n2X81GLtNsH:hover{background:#cdd2d4;box-shadow:0 1px 0 0 #a5acb0;color:#172b4d}._3x0n2X81GLtNsH ._33iqiBv7Q9zNOS{display:block;font-size:18px;line-height:24px;overflow:hidden;text-overflow:ellipsis}._3x0n2X81GLtNsH label{color:#5e6c84;display:block;font-size:12px;line-height:14px;margin-bottom:0;margin-top:7px}._3x0n2X81GLtNsH select{border:none;cursor:pointer;height:50px;left:0;margin:0;opacity:0;position:absolute;top:0;width:100%;z-index:2}",""]),t.locals={blockButton:"_3x0n2X81GLtNsH",value:"_33iqiBv7Q9zNOS"}},4912:function(e,t,n){var r=n(4913);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,a);r.locals&&(e.exports=r.locals)},4913:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1OcxX0OBVsrcn0{cursor:pointer}._1OcxX0OBVsrcn0[disabled]{color:#6b778c;cursor:not-allowed}._3EgGl1uanPg9yw{display:flex;align-items:center}._9eIvwQ7fQqnjED{flex:0 0 auto;margin-right:8px}.iJqUmAxuUQPxqp{box-sizing:border-box;display:block;flex:1 1 auto;padding-right:32px;width:100%;word-wrap:break-word}",""]),t.locals={oneTimeMessageDismissedButton:"_1OcxX0OBVsrcn0",oneTimeMessageDismissedButtonInner:"_3EgGl1uanPg9yw",iconWrapper:"_9eIvwQ7fQqnjED",message:"iJqUmAxuUQPxqp"}},4914:function(e,t,n){var r=n(4915);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(22)(r,a);r.locals&&(e.exports=r.locals)},4915:function(e,t,n){(t=e.exports=n(21)(!1)).push([e.i,"._1PnjtV9DEmoOm-,._3iIVpqPvrEo3Kb{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;display:inline-block}._1PnjtV9DEmoOm-{font-family:trellicons}._1sIYFcT288MdOt{border-radius:3px;border:0;cursor:pointer;text-decoration:none;display:inline-block;background-image:none;box-shadow:none;color:#5e6c84;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;padding:0;text-align:left;width:100%}._1sIYFcT288MdOt:active,._1sIYFcT288MdOt:hover,.iZc3YW0jiQRe5b{background:transparent;box-shadow:none}.iZc3YW0jiQRe5b{border-color:transparent;padding:0;text-decoration:none;text-shadow:none}.iZc3YW0jiQRe5b:hover{background:transparent;border-color:transparent;box-shadow:none;text-decoration:underline}._1Ys4GFS-8Tkx5Z{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;display:inline-block;background-color:#5aac44;box-shadow:none;border:none;color:#fff}._1Ys4GFS-8Tkx5Z:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._1Ys4GFS-8Tkx5Z:active{background-color:#49852e;box-shadow:none;border:none;color:#fff}._1Ys4GFS-8Tkx5Z:disabled{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;color:#a5adba;cursor:not-allowed}._3njh0sKACv8YP6{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;display:inline-block;background-color:#cf513d;box-shadow:none;border:none;color:#fff}._3njh0sKACv8YP6:hover{background-color:#eb5a46;box-shadow:none;border:none;color:#fff}._3njh0sKACv8YP6:active{background-color:#933b27;box-shadow:none;border:none;color:#fff}.dptwYRGrDWkrON{padding-left:30px;padding-right:30px}._3zayEsqsNaBX6-{background:#e2e4e6;box-shadow:0 1px 0 0 #c4c9cc;border-radius:3px;box-sizing:border-box;display:block;height:32px;margin-top:8px;max-width:300px;overflow:hidden;padding:6px 8px 6px 11px;position:relative;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}._3zayEsqsNaBX6-,.wAllpYAKurvA_P{cursor:pointer;font-weight:700;text-decoration:none}.wAllpYAKurvA_P{border-radius:3px;border:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;display:inline-block;background-color:#cf513d;box-shadow:none;border:none;color:#fff;margin:8px 0;width:100%}.wAllpYAKurvA_P:hover{background-color:#eb5a46;box-shadow:none;border:none;color:#fff}.wAllpYAKurvA_P:active{background-color:#933b27;box-shadow:none;border:none;color:#fff}.ScBF_l6QM4ykME{padding:0 12px}.ScBF_l6QM4ykME ._2rRF6vFiTfcaj_{margin:0 -12px}.ScBF_l6QM4ykME hr{margin:8px 0}._20_kasi0HeSXGc{padding-left:20px;word-break:break-all}._1BaB-qL3iuHhk9{padding-left:0}",""]),t.locals={button:"_3iIVpqPvrEo3Kb",iconButton:"_1PnjtV9DEmoOm-",textButton:"_1sIYFcT288MdOt",buttonLink:"iZc3YW0jiQRe5b",buttonPrimary:"_1Ys4GFS-8Tkx5Z",buttonNegate:"_3njh0sKACv8YP6",wide:"dptwYRGrDWkrON",blockButton:"_3zayEsqsNaBX6-",removeButton:"wAllpYAKurvA_P",content:"ScBF_l6QM4ykME",popoverMenu:"_2rRF6vFiTfcaj_",featureFlagMenuButton:"_20_kasi0HeSXGc",featureFlagSelected:"_1BaB-qL3iuHhk9"}},5015:function(e,t,n){"use strict";n.r(t);var r=n(103),a=n.n(r),o=n(28),i=n(4);function c(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var l=Symbol("ui/SELECT_CHANNEL_REQUEST"),s=Symbol("ui/SELECT_CHANNEL_ERROR"),u=Symbol("ui/SELECT_CHANNEL_SUCCESS"),p=Object(i.a)(l),f=Object(i.a)(s),d=Object(i.a)(u),m=function(e){return function(){var t,n=(t=regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(p(e)),t.prev=1,t.next=4,o.a.client.rest.put("members/me/channels/active",{query:{value:e}});case 4:n(d(e)),document.location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(f(t.t0));case 11:case"end":return t.stop()}},t,null,[[1,8]])}),function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(e){c(o,r,a,i,l,"next",e)}function l(e){c(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,t){return n.apply(this,arguments)}}()},b=n(0),v=n.n(b),h=n(42),y=n(583),g=n(45),w=function(e){var t=Object(g.a)(e);return!!(t&&t.channels&&t.channels.dev)},x=function(e){var t=y.a.get(e).get("variation"),n=window.abTests[e],r=[{name:"control",weight:n.defaultWeight}];n.variations.forEach(function(e){return r.push({name:e.name,weight:e.weight})});var a=r.map(function(e){return e.weight}).reduce(function(e,t){return e+t},0);r.forEach(function(e){return e.active=e.name===t,e.percentage=Math.round(1e4*e.weight/a)/100,e});var o=!1,i=n.audiences.map(function(e){var t=y.a.audienceDefinitions[e]&&y.a.audienceDefinitions[e](n.audienceSettings),r=!o&&t;return o=o||t,{audience:e,allocation:n.experimentAllocation instanceof Object?n.experimentAllocation[e]||0:n.experimentAllocation,used:r}});return{activeVariation:t,allocations:i,variations:r,meta:n.meta,audienceSettings:n.audienceSettings}},E=n(68),O=n(44),k=n(5),j=n.n(k),_=n(23),S=n(29),R=n(12),N=n(15),C=n(246),P=n(153),B=n(3910),M=n(4908),I=n.n(M);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=Object(R.c)("header_experiment_menu"),D=function(e){var t=e.activeVariation,n=e.allocations,r=e.audienceSettings,a=e.experimentName,o=e.meta,i=e.onVariationOverride,c=e.onVariationRemove,l=e.variations;return v.a.createElement("div",{className:I.a.experimentDetails},v.a.createElement("h3",null,T("experiment-name")),v.a.createElement("p",null,a),o&&v.a.createElement(v.a.Fragment,null,v.a.createElement("h3",null,T("description")),o.image&&v.a.createElement("p",null,v.a.createElement("a",{rel:"noopener noreferrer",href:o.image,target:"_blank"},v.a.createElement("img",{className:I.a.image,src:o.image,alt:"",role:"presentation"}))),o.description&&v.a.createElement("p",null,o.description),o.link&&v.a.createElement("p",null,v.a.createElement("a",{rel:"noopener noreferrer",href:o.link,target:"_blank"},o.link))),v.a.createElement("h3",null,T("current-active-variation")),v.a.createElement("p",null,t),v.a.createElement("h3",null,T("experiment-allocation")),v.a.createElement("ul",{className:I.a.detailsList},n.map(function(e){var t=e.audience,n=e.allocation,r=e.used;return v.a.createElement("li",{key:"".concat(t,"-").concat(n)},"".concat(t,": ").concat(100*n,"% "),r&&v.a.createElement(_.Icon,{small:!0,name:_.IconName.Check}))})),r&&[v.a.createElement("h3",{key:"aud-settings"},T("audience-settings")),v.a.createElement("ul",{className:I.a.detailsList,key:"aud-settings-list"},Object.entries(r).map(function(e){var t=A(e,2),n=t[0],r=t[1];return v.a.createElement("li",{key:n},"".concat(n,": ").concat(r))}))],v.a.createElement("h3",null,T("variation-allocation")),v.a.createElement("ul",{className:I.a.detailsList},l.map(function(e){var t=e.name,n=e.percentage;return v.a.createElement("li",{key:t},"".concat(t,": (").concat(n,"%)"))})),v.a.createElement("hr",null),v.a.createElement("h3",null,T("override-variation")),v.a.createElement("p",null,T("override-variation-note")),v.a.createElement("ul",{className:I.a.detailsList},l.map(function(e){var t=e.active,n=e.name;return v.a.createElement("li",{key:n},v.a.createElement(C.Button,{isDisabled:t,appearance:"primary",shouldFitContainer:!0,onClick:function(){return i(n)}},n,t&&v.a.createElement(_.Icon,{small:!0,name:_.IconName.Check})))})),v.a.createElement("hr",null),v.a.createElement("h3",null,T("remove-experiment-cookie")),v.a.createElement("p",null,T("remove-experiment-cookie-note")),v.a.createElement(C.Button,{appearance:"danger",shouldFitContainer:!0,onClick:c},T("remove-experiment-cookie")))};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=G(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==F(o)&&"function"!=typeof o?V(r):o,Q(V(n),"cookieName",function(){return"force_".concat(n.props.experimentName)}),Q(V(n),"onVariationOverride",function(e){a.a.set(n.cookieName(),e,{path:"/",expires:30}),document.location.reload()}),Q(V(n),"onVariationRemove",function(){a.a.set(n.cookieName(),"",{path:"/",expires:-1}),document.location.reload()}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,v.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.experimentDetails,n=e.experimentName;return v.a.createElement(D,H({experimentName:n,onVariationOverride:this.onVariationOverride,onVariationRemove:this.onVariationRemove},t))}}])&&Z(n.prototype,r),o&&Z(n,o),t}(),Y=Object(h.b)(function(e,t){return{experimentDetails:x(t.experimentName)}})(U),z=n(776),q=n(78),K=n(4910),W=n.n(K);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=Object(R.c)("header_version_picker"),ne=function(e){return"0.0"===e?"latest":e},re=function(e,t){return Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e[t])).concat([["0.0",!0]])},ae=function(e){var t=e.loading,n=e.deployments,r=e.activeHead,a=e.updateHead,o=e.updateVersion,i=Object(S.useFeatureFlag)("fep.nachos_select",!1);return v.a.createElement("div",null,t&&v.a.createElement(q.a,{centered:!0}),i?v.a.createElement(C.Select,{label:te("head"),onChange:function(e){var t=e.value;return a(t)},value:r.name,isSearchable:!0,options:J(Object.entries(n).filter(function(e){var t=X(e,2),n=(t[0],t[1]);return Object.values(n).some(function(e){return e})}).map(function(e){var t=X(e,2),n=t[0];t[1];return n}).sort(function(e,t){return e.localeCompare(t)}))}):v.a.createElement("div",{className:W.a.blockButton,style:{marginBottom:r.name?10:0}},v.a.createElement("label",null,te("head")),v.a.createElement("span",{className:W.a.value},r.name),v.a.createElement("select",{onChange:function(e){return a(e.target.value)},value:r.name||""},[""].concat(J(Object.entries(n).filter(function(e){var t=X(e,2),n=(t[0],t[1]);return Object.values(n).some(function(e){return e})}).map(function(e){var t=X(e,2),n=t[0];t[1];return n}).sort(function(e,t){return e.localeCompare(t)}))).map(function(e){return v.a.createElement("option",{"aria-selected":e===r.name,key:e,value:e},e)}))),r.name&&(i?v.a.createElement(C.Select,{label:te("version"),onChange:function(e){var t=e.value;return o(t)},value:r.version,isSearchable:!0,options:re(n,r.name).map(function(e){var t=X(e,2),n=t[0],a=t[1];return n===r.version?{value:n,label:"".concat(ne(n)," ").concat(te("current",{version:n}))}:{value:n,label:"".concat(ne(n)," ").concat(a?"":te("disabled",{version:n})),isDisabled:!a}})}):v.a.createElement("div",{className:W.a.blockButton},v.a.createElement("label",null,te("version")),v.a.createElement("span",{className:W.a.value},r.version&&ne(r.version)),v.a.createElement("select",{onChange:function(e){return o(e.target.value)},value:r.version||""},v.a.createElement("option",{"aria-selected":!r.version,key:"",value:""}),re(n,r.name).map(function(e){var t=X(e,2),n=t[0],a=t[1];return n===r.version?v.a.createElement("option",{"aria-selected":n===r.version,key:n,value:n},ne(n)," ",te("current",{version:n})):v.a.createElement("option",{"aria-selected":n===r.version,key:n,value:n},ne(n)," ",!a&&te("disabled",{version:n}))})))))};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach(function(t){me(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=pe(t).call(this,e),n=!o||"object"!==oe(o)&&"function"!=typeof o?fe(r):o,me(fe(n),"updateHead",function(e){n.setState({activeHead:se({},n.state.activeHead,{name:e})})}),me(fe(n),"updateVersion",function(e){n.setState({activeHead:se({},n.state.activeHead,{version:e})});var t=ce(e.split("."),2),r=t[0],o=t[1],i={name:n.state.activeHead&&n.state.activeHead.name,version:r,patch:o};parseInt(r,10)<0||(a.a.set("head",JSON.stringify(i),{path:"/"}),document.location.reload())});var i={version:null,patch:null,name:null},c=a.a.get("head");if(c)try{(i=JSON.parse(c)).version=[i.version||0,i.patch||0].join(".")}catch(e){console.error(e)}return n.state={activeHead:i},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,v.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.dispatch(Object(z.c)())}},{key:"render",value:function(){return v.a.createElement(ae,ie({updateHead:this.updateHead,updateVersion:this.updateVersion,activeHead:this.state.activeHead},this.props))}}])&&ue(n.prototype,r),o&&ue(n,o),t}();var ve=Object(h.b)(function(e){return{loading:e.models.deployments.loading,deployments:e.models.deployments.heads}},function(e){return{dispatch:e}})(be),he=n(4912),ye=n.n(he),ge=n(48);function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xe=function(e){var t=e.memberId,n=Object(ge.H)({variables:{memberId:t}}),r=n.data,a=n.error,o=n.loading,i=we(Object(ge.m)(),2),c=i[0],l=i[1],s=l.loading,u=l.error,p=function(e){return function(){c({variables:{memberId:t,message:e}})}},f=r&&r.member&&r.member.oneTimeMessagesDismissed;return a&&console.error(a),u&&console.error(u),v.a.createElement("div",null,v.a.createElement("p",null,"Click a oneTimeMessageDismissed to delete it."),v.a.createElement("p",null,"(This API endpoint is only available in development and for members in the trelloinc team.)"),o&&v.a.createElement(q.a,{centered:!0}),r&&v.a.createElement(B.a,null,f&&f.map(function(e){return e&&v.a.createElement(B.b,{key:e,className:ye.a.oneTimeMessageDismissedButton,disabled:s,onClick:p(e)},v.a.createElement("span",{className:ye.a.oneTimeMessageDismissedButtonInner},v.a.createElement("span",{className:ye.a.iconWrapper},v.a.createElement(_.Icon,{small:!0,name:_.IconName.Close,color:_.IconColor.Gray})),v.a.createElement("span",{className:ye.a.message},e)))})))},Ee=n(129),Oe=n(163),ke=n(4914),je=n.n(ke);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=Object(R.c)("header_channel_picker"),Te=Object(R.b)("view title"),De=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=Pe(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Se(a)&&"function"!=typeof a?Be(r):a,Ie(Be(n),"state",{flags:S.featureFlagClient.all()}),Ie(Be(n),"onFlagChange",function(){n.setState({flags:S.featureFlagClient.all()})}),Ie(Be(n),"flagToggleHandler",function(e,t){S.featureFlagClient.setOverride(e,t),n.onFlagChange()}),Ie(Be(n),"resetOverridesHandler",function(){S.featureFlagClient.resetOverrides(),n.onFlagChange()}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,v.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){S.featureFlagClient.client.on("change",this.onFlagChange)}},{key:"componentWillUnmount",value:function(){S.featureFlagClient.client.off("change",this.onFlagChange)}},{key:"render",value:function(){var e=this,t=this.state.flags;return v.a.createElement("div",null,v.a.createElement("p",null,Ae("listed-below-are-feature-flags")),v.a.createElement(C.Button,{appearance:"danger",onClick:this.resetOverridesHandler,shouldFitContainer:!0},Ae("reset-all-feature-flags")),v.a.createElement(B.a,{className:je.a.popoverMenu},Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach(function(t){Ie(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.remote,{},t.overrides)).filter(function(e){var t=Re(e,2);t[0];return"boolean"==typeof t[1]}).sort().map(function(n){var r=Re(n,2),a=r[0],o=r[1],i=void 0!==t.overrides[a];return v.a.createElement(B.b,{key:a,className:j()(je.a.featureFlagMenuButton,(o||i)&&je.a.featureFlagSelected),onClick:function(){return e.flagToggleHandler(a,!o)}},o&&v.a.createElement(_.Icon,{small:!0,name:_.IconName.Check,color:i?_.IconColor.Green:_.IconColor.Gray}),!1===t.overrides[a]&&v.a.createElement(_.Icon,{small:!0,name:_.IconName.Close,color:_.IconColor.Red}),a)})))}}])&&Ce(n.prototype,r),a&&Ce(n,a),t}(),Fe=function(e){var t=e.openExperiment,n=e.removeAllExperiments,r=e.tests;return v.a.createElement("div",null,v.a.createElement("p",null,Ae("listed-below-are-experiments")),v.a.createElement("p",null,Ae("below-the-experiment")),v.a.createElement(C.Button,{appearance:"danger",onClick:n,"data-test-id":O.HeaderTestIds.ChannelPickerRemoveAll,shouldFitContainer:!0},Ae("remove-all-experiments")),v.a.createElement(B.a,{className:je.a.popoverMenu,testId:O.HeaderTestIds.ChannelPickerExperimentList},r.map(function(e){return v.a.createElement(B.b,{key:e.name,onClick:Object(Oe.a)(function(){return t(e.name)}),rawDescription:e.inExperiment?":: ".concat(e.selectedVariation):void 0,description:e.inExperiment?void 0:Ae("not-in-experiment")},e.name)})))},He=function(e){var t=e.channels,n=e.dev,r=e.openHydraChooser,a=e.selectChannel,o=t.length-1;return v.a.createElement(B.a,{className:je.a.popoverMenu},t.map(function(e,t){return v.a.createElement(B.b,{appendSeparator:n&&t===o,key:e.name,onClick:function(t){return a(e.name)}},e.displayName,e.active&&v.a.createElement(_.Icon,{small:!0,name:_.IconName.Check}))}),n&&v.a.createElement(B.b,{key:"devLink",onClick:Object(Oe.a)(r),title:Ae("pick-a-version")}))},Ze=function(e){var t=e.activeChannel,n=e.channels,r=e.cookie,a=e.dev,o=e.memberId,i=e.removeAllExperiments,c=e.removeCookie,l=e.selectChannel,s=e.target,u=e.tests;return v.a.createElement(P.a,{contentClassName:je.a.content,name:Ee.a,offsetTop:38,target:s,title:Te("switch channels"),testId:O.HeaderTestIds.ChannelPickerPopover},function(e){var s=e.push;return v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://trello.atlassian.net/servicedesk/customer/portal/1/group/1"},v.a.createElement(_.Icon,{color:_.IconColor.Red,name:_.IconName.Warning}),v.a.createElement(_.Icon,{name:_.IconName.Microphone})," ".concat(Ae("log-an-issue")," "),v.a.createElement(_.Icon,{name:_.IconName.Microphone}),v.a.createElement(_.Icon,{color:_.IconColor.Red,name:_.IconName.Warning})),v.a.createElement("hr",null),r&&v.a.createElement("div",null,v.a.createElement("p",null,Ae("you-have-a-version-cookie-set-this-is-a-feature-intended-for-client-developers-and-testers-and-will-prevent-you-from-changing-channels")),v.a.createElement(C.Button,{appearance:"primary",onClick:Object(Oe.a)(c)},Ae("remove-cookie"))),!r&&v.a.createElement(He,_e({openHydraChooser:function(){return s(v.a.createElement(ve,null),{title:Te("select client version")})}},{dev:a,selectChannel:l,channels:n,activeChannel:t})),v.a.createElement("hr",null),v.a.createElement("pre",null,"Client: ".concat(N.clientVersion," (").concat(t,")")),v.a.createElement("hr",null),v.a.createElement(B.a,{className:je.a.popoverMenu},v.a.createElement(B.b,{onClick:Object(Oe.a)(function(){return s(v.a.createElement(De,null),{title:Te("feature flags")})})},Te("feature flags")),u&&v.a.createElement(B.b,{testId:O.HeaderTestIds.ChannelPickerExperimentsButton,onClick:Object(Oe.a)(function(){return s(v.a.createElement(Fe,_e({openExperiment:function(e){return s(v.a.createElement(Y,{experimentName:e}),{title:Te("experiment config")})}},{tests:u,removeAllExperiments:i})),{title:Te("experiments")})})},Te("experiments")),v.a.createElement(B.b,{onClick:Object(Oe.a)(function(){return s(v.a.createElement(xe,{memberId:o}),{title:"oneTimeMessagesDismissed"})})},"oneTimeMessagesDismissed")))})};function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=Qe(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==Ge(o)&&"function"!=typeof o?Ue(r):o,ze(Ue(n),"removeCookie",function(){a.a.set("head","",{path:"/"}),n.forceUpdate()}),ze(Ue(n),"removeAllExperiments",function(){for(var e=0,t=Object.keys(window.abTests);e<t.length;e++){var n=t[e];a.a.set("force_".concat(n),"",{path:"/",expires:-1})}document.location.reload()}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,v.a.Component),n=t,(r=[{key:"render",value:function(){return v.a.createElement(Ze,Ve({},this.props,{removeCookie:this.removeCookie,removeAllExperiments:this.removeAllExperiments,cookie:a.a.get("head")}))}}])&&Le(n.prototype,r),o&&Le(n,o),t}();t.default=Object(h.b)(function(e,t){var n,r=function(e){var t=(Object(g.a)(e)||{}).channels,n=t?t.allowed:[],r=t?t.active:"";return["stable","beta","alpha"].filter(function(e){return n.includes(e)}).map(function(e){return{name:e,displayName:e.charAt(0).toUpperCase()+e.slice(1),active:e===r}})}(e),a=r.find(function(e){return e.active});return{channels:r,memberId:Object(E.a)(e),tests:(n=window.abTests,Object.keys(n).map(function(e){var t=y.a.get(e);return{name:e,inExperiment:t.inExperiment,selectedVariation:t.get("variation")}}).sort(function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})),dev:w(e),activeChannel:a?a.displayName:""}},function(e,t){return{selectChannel:function(t){e(m(t))}}})(qe)}}]);
//# sourceMappingURL=channel-switcher-popover.301c04991bfa2650ce88.js.map